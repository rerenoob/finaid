@*
    Reusable card component for dashboard sections
*@

<div class="dashboard-card card h-100">
    <div class="card-header d-flex align-items-center">
        @if (!string.IsNullOrEmpty(Icon))
        {
            <i class="@Icon me-2 text-primary"></i>
        }
        <h5 class="card-title mb-0 me-auto">@Title</h5>
        
        @if (!string.IsNullOrEmpty(ActionUrl))
        {
            <a href="@ActionUrl" class="btn btn-sm btn-outline-primary">
                View All <i class="bi bi-arrow-right"></i>
            </a>
        }
    </div>
    
    <div class="card-body">
        @if (IsLoading)
        {
            <div class="text-center py-3">
                <div class="spinner-border spinner-border-sm text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p class="text-muted mt-2 mb-0">@LoadingMessage</p>
            </div>
        }
        else
        {
            @ChildContent
        }
    </div>
</div>

@code {
    [Parameter] public string Title { get; set; } = string.Empty;
    [Parameter] public string Icon { get; set; } = string.Empty;
    [Parameter] public string ActionUrl { get; set; } = string.Empty;
    [Parameter] public bool IsLoading { get; set; } = false;
    [Parameter] public string LoadingMessage { get; set; } = "Loading...";
    [Parameter] public RenderFragment? ChildContent { get; set; }
}

<style>
    .dashboard-card {
        border: 1px solid rgba(0,0,0,.125);
        box-shadow: 0 0.125rem 0.25rem rgba(0,0,0,.075);
        transition: box-shadow 0.15s ease-in-out;
    }
    
    .dashboard-card:hover {
        box-shadow: 0 0.25rem 0.5rem rgba(0,0,0,.15);
    }
    
    .dashboard-card .card-header {
        background-color: #f8f9fa;
        border-bottom: 1px solid rgba(0,0,0,.125);
        padding: 1rem 1.25rem;
    }
    
    .dashboard-card .card-title {
        font-weight: 600;
        color: #495057;
    }
</style>